webpackJsonp([1],{"+VHY":function(t,s){},"1/oy":function(t,s){},"5W1q":function(t,s){},"9M+g":function(t,s){},Hv5A:function(t,s){},IIWA:function(t,s){},Id91:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),a=e("fZjL"),n=e.n(a),o={data:function(){return{samples:null,labels:null,attentionsFile:null,labelsFile:null,sidebar:!0,statuses:{isLoadingFile:!1},options:{showAttentions:!0,colorAttentions:!1,showPredictions:!1,onlyCorrect:!1,maxLength:40,maxLoss:0,colorWords:!0,filteredLabel:null,task:"clf"},tasks:[{text:"Classification",value:"clf"},{text:"Regression",value:"reg"},{text:"Multi-Label Classification",value:"multi-clf"}],pagination:{currentPage:1,perPage:100,options:[50,100,200,300,500,1e3]}}},mounted:function(){window.$("#menu-toggle").click(function(t){t.preventDefault(),window.$("#wrapper").toggleClass("toggled")})},methods:{loadAttentions:function(){var t=this,s=new FileReader,e=this;this.statuses.isLoadingFile=!0,s.onload=function(s){try{e.samples=JSON.parse(s.target.result)}catch(t){alert("ex when trying to parse json = "+t)}finally{t.statuses.isLoadingFile=!1}},s.readAsText(this.attentionsFile)},loadLabels:function(){var t=new FileReader,s=this;t.onload=function(t){try{s.labels=JSON.parse(t.target.result)}catch(t){alert("ex when trying to parse json = "+t)}},t.readAsText(this.labelsFile)},loadData:function(){this.options.filteredLabel=null,this.loadAttentions(),this.loadLabels()},isSampleVisible:function(t){if(this.options.maxLength>0&&t.text.length>this.options.maxLength)return!1;if("clf"===this.options.task){if(this.options.onlyCorrect&&t.label!==t.prediction)return!1;if(null!=this.options.filteredLabel&&t.label!=this.options.filteredLabel)return!1}else if("multi-clf"===this.options.task){if(this.options.onlyCorrect&&!_.isEqual(t.label,t.prediction))return!1}else if("reg"===this.options.task){var s=Math.abs(t.label-t.prediction);if(this.options.maxLoss>0&&s>this.options.maxLoss)return!1}return!0},validSamples:function(t){var s=this;try{return t.filter(function(t){return s.isSampleVisible(t)})}catch(t){return[]}},paginate:function(t,s,e){return--e,t.slice(e*s,(e+1)*s)},getLabelsEc:function(t){var s=[],e=this;return n()(e.labels).forEach(function(i){t.label[i]&&s.push(e.labels[i].name)}),s.join(", ")},getIndex:function(t){return t+(this.pagination.currentPage-1)*this.pagination.perPage}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("div",{class:{toggled:t.sidebar},attrs:{id:"wrapper"}},[e("div",{attrs:{id:"sidebar-wrapper"}},[e("br"),t._v(" "),e("div",{staticClass:"container-fluid"},[e("b-card",{attrs:{"bg-variant":"light"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("h4",[t._v("Data")]),t._v(" "),e("hr")])]),t._v(" "),e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-sm-12"},[e("b-form-radio-group",{staticStyle:{width:"100%"},attrs:{id:"taskTypeRadios",stacked:"",buttons:"","button-variant":"outline-secondary",size:"md",options:t.tasks,name:"radiosBtnDefault"},model:{value:t.options.task,callback:function(s){t.$set(t.options,"task",s)},expression:"options.task"}})],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("b-form-group",{attrs:{"label-cols":4,"label-size":"md",label:"Attentions file","label-for":"attentionsFile"}},[e("b-form-file",{attrs:{id:"attentionsFile",state:Boolean(t.attentionsFile),placeholder:"Choose attentions file..."},model:{value:t.attentionsFile,callback:function(s){t.attentionsFile=s},expression:"attentionsFile"}})],1)],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"reg"!==t.options.task,expression:"options.task !== 'reg'"}],staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("b-form-group",{attrs:{"label-cols":4,"label-size":"md",label:"Labels file","label-for":"labelsFile"}},[e("b-form-file",{attrs:{id:"labelsFile",state:Boolean(t.labelsFile),placeholder:"Choose labels file..."},model:{value:t.labelsFile,callback:function(s){t.labelsFile=s},expression:"labelsFile"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-sm-12"},[e("b-button",{staticClass:"float-sm-right",staticStyle:{width:"100%"},attrs:{variant:"secondary"},on:{click:t.loadData}},[t._v("Load\n              ")])],1)])]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("app-options",{attrs:{options:t.options,labels:t.labels}})],1)])],1)]),t._v(" "),e("div",{attrs:{id:"page-content-wrapper"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("nav",{staticClass:"navbar navbar-light bg-light"},[t._m(0),t._v(" "),e("b-button",{staticClass:"navbar-toggler",attrs:{variant:"outline",pressed:t.sidebar},on:{"update:pressed":function(s){t.sidebar=s}}},[e("span",{staticClass:"navbar-toggler-icon"})])],1),t._v(" "),e("br")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.statuses.isLoadingFile,expression:"statuses.isLoadingFile"}],staticClass:"row"},[t._m(1)]),t._v(" "),e("div",[t.validSamples(t.samples).length>0&&!t.statuses.isLoadingFile?e("div",{staticClass:"row "},[e("div",{staticClass:"col-sm-6"},[e("b-pagination",{attrs:{size:"sm",align:"right",variant:"default","total-rows":t.validSamples(t.samples).length,"per-page":t.pagination.perPage},model:{value:t.pagination.currentPage,callback:function(s){t.$set(t.pagination,"currentPage",s)},expression:"pagination.currentPage"}})],1),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("b-form",{staticClass:"float-right",attrs:{inline:""}},[e("label",{staticClass:"mr-sm-2"},[t._v("Per Page")]),t._v(" "),e("b-form-select",{attrs:{options:t.pagination.options,size:"sm"},model:{value:t.pagination.perPage,callback:function(s){t.$set(t.pagination,"perPage",s)},expression:"pagination.perPage"}})],1)],1)]):t._e(),t._v(" "),t.statuses.isLoadingFile?t._e():e("div",{staticClass:"div"},t._l(t.paginate(t.validSamples(t.samples),t.pagination.perPage,t.pagination.currentPage),function(s){return e("div",{key:s.id,staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"sample"},[e("app-sentence",{attrs:{sentence:s,options:t.options,index:s.id}}),t._v(" "),t.options.showPredictions?e("hr"):t._e(),t._v(" "),t.options.showPredictions&&"reg"===t.options.task?e("app-prediction-regression",{attrs:{sample:s,options:t.options,index:s.id}}):t._e(),t._v(" "),t.options.showPredictions&&"clf"===t.options.task?e("app-prediction-classification",{attrs:{sample:s,labels:t.labels,options:t.options,index:s.id}}):t._e(),t._v(" "),t.options.showPredictions&&"multi-clf"===t.options.task?e("app-prediction-multi-classification",{attrs:{sample:s,labels:t.labels,options:t.options,index:s.id}}):t._e()],1)])])})),t._v(" "),t.validSamples(t.samples).length>0&&!t.statuses.isLoadingFile?e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("b-pagination",{attrs:{size:"sm",align:"right",variant:"default","total-rows":t.validSamples(t.samples).length,"per-page":t.pagination.perPage},model:{value:t.pagination.currentPage,callback:function(s){t.$set(t.pagination,"currentPage",s)},expression:"pagination.currentPage"}})],1),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("b-form",{staticClass:"float-right",attrs:{inline:""}},[e("label",{staticClass:"mr-sm-2"},[t._v("Per Page")]),t._v(" "),e("b-form-select",{attrs:{options:t.pagination.options,size:"sm"},model:{value:t.pagination.perPage,callback:function(s){t.$set(t.pagination,"perPage",s)},expression:"pagination.perPage"}})],1)],1)]):t._e()])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[s("strong",[this._v("Neat")]),this._v(" (Neural Attention) "),s("strong",[this._v("Vision")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-sm-12 text-center"},[s("i",{staticClass:"fa fa-4x fa-spinner fa-pulse"})])}]};var r=e("VU/8")(o,l,!1,function(t){e("kf0M")},null,null).exports,c={props:["sentence","options","index"],name:"sentence",data:function(){return{showAttentions:!0,sentenceWidth:"fullwidth",fontSize:.9}},computed:{attentions:function(){return this.sentence.attention.slice(0,this.sentence.text.length)},opacities:function(){return this.softmax(this.attentions,.04)},att_mean:function(){return 1/this.attentions.length},att_std:function(){return this.std(this.attentions)},att_min:function(){return Math.min(this.attentions)},att_max:function(){return Math.max(this.attentions)},elementId:function(){return"sentence-"+this.index}},methods:{opacityTemp:function(t,s){var e=this.opacities[t];return("word"!==s||this.options.colorWords)&&("attention"!==s||this.options.colorAttentions)||(e=0),{background:"rgba(255, 0, 0, "+e+")"}},opacityStat:function(t,s){var e=this.attentions[t];e>this.att_mean?e=(e-this.att_mean)/(4*this.att_std):e/=2,("word"!==s||this.options.colorWords)&&("attention"!==s||this.options.colorAttentions)||(e=0);var i=this.fontSize;return"attention"===s&&(i*=.65),{background:"rgba(255, 0, 0, "+e+")","font-size":i+"em"}},btnVariant:function(t){return t?"success":"danger"},toImage:function(t){var s=this.sentence.id,e=document.getElementById(s);try{var i=null;"multi-clf"===this.options.task?i=document.getElementById("multi-clf-"+this.index):"clf"===this.options.task&&(i=document.getElementById("clf-"+this.index)),i.style.fontSize=this.fontSize+"em",e.appendChild(i)}catch(t){}var a=this;window.domtoimage.toSvg(e,{cacheBust:!0}).then(function(t){var e=document.createElement("a");e.download=s+"_"+a.sentenceWidth+"_.svg",e.href=t,e.target="_blank",e.click()}).catch(function(t){console.error("oops, something went wrong!",t)})},emojify:function(t){for(var s=[],e=0;e<t.length;e++)s.push([twemoji.parse(t[e]),t[e]]);return s},setSentenceWidth:function(t){return this.sentenceWidth=t}}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sentence-wrapper"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{ref:"sentence.id",staticClass:"sentence",class:t.sentenceWidth,attrs:{id:t.sentence.id}},t._l(t.emojify(t.sentence.text),function(s,i){return e("div",{staticClass:"token"},[e("div",{staticClass:"word",style:t.opacityStat(i,"word")},[s[0]!==s[1]?e("span",{domProps:{innerHTML:t._s(s[0])}}):e("span",[t._v(t._s(s[1]))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.options.showAttentions&&t.showAttentions,expression:"options.showAttentions && showAttentions"}],staticClass:"attention",style:t.opacityStat(i,"attention")},[t._v("\n            "+t._s(t.attentions[i].toFixed(3))+"\n          ")])])}))])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 sentence-functions"},[e("button",{staticClass:"btn btn-outline-secondary float-right btn-xs text-center",staticStyle:{height:"36px",width:"40px"},on:{click:t.toImage}},[e("i",{staticClass:"fa fa-camera"})]),t._v(" "),e("b-button",{staticClass:"btn btn-outline-secondary float-right btn-xs",staticStyle:{height:"36px",width:"40px"},attrs:{pressed:t.showAttentions,size:"sm"},on:{"update:pressed":function(s){t.showAttentions=s}}},[t.showAttentions?e("i",{staticClass:"fa fa-eye"}):e("i",{staticClass:"fa fa-eye-slash"})])],1)])])},staticRenderFns:[]};var p=e("VU/8")(c,d,!1,function(t){e("pEc0")},null,null).exports,v={props:["options","labels"],methods:{btnVariant:function(t){return t?"success":"danger"}},computed:{labelOptions:function(){try{var t=this,s=n()(t.labels).map(function(s,e){return{value:s,text:t.labels[s].name+" "+t.labels[s].desc}});return s.push({value:null,text:"-- show all --"}),s}catch(t){return[]}}}},m={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("b-card",{attrs:{"bg-variant":"light"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("h4",[t._v("Options")]),t._v(" "),e("hr")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Show Scores")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-button",{staticClass:"float-right",staticStyle:{width:"80px"},attrs:{pressed:t.options.showAttentions,size:"sm",variant:t.btnVariant(t.options.showAttentions)},on:{"update:pressed":function(s){t.$set(t.options,"showAttentions",s)}}},[t._v("\n            "+t._s(t.options.showAttentions)+"\n          ")])],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Show the attention scores below each token.\n        ")])],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Heatmap on Tokens")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-button",{staticClass:"float-right",staticStyle:{width:"80px"},attrs:{pressed:t.options.colorWords,size:"sm",variant:t.btnVariant(t.options.colorWords)},on:{"update:pressed":function(s){t.$set(t.options,"colorWords",s)}}},[t._v("\n            "+t._s(t.options.colorWords)+"\n          ")])],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Show heatmap over the tokens in each text.\n        ")])],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Heatmap on Attentions")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-button",{staticClass:"float-right",staticStyle:{width:"80px"},attrs:{pressed:t.options.colorAttentions,size:"sm",variant:t.btnVariant(t.options.colorAttentions)},on:{"update:pressed":function(s){t.$set(t.options,"colorAttentions",s)}}},[t._v("\n            "+t._s(t.options.colorAttentions)+"\n          ")])],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Show heatmap over the attention scores.\n        ")])],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Show Predictions")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-button",{staticClass:"float-right",staticStyle:{width:"80px"},attrs:{pressed:t.options.showPredictions,size:"sm",variant:t.btnVariant(t.options.showPredictions)},on:{"update:pressed":function(s){t.$set(t.options,"showPredictions",s)}}},[t._v("\n            "+t._s(t.options.showPredictions)+"\n          ")])],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Show an analysis of the predictions of the model.\n        ")])],1)],1),t._v(" "),"clf"===t.options.task||"multi-clf"===t.options.task?e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Only Correct")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-button",{staticClass:"float-right",staticStyle:{width:"80px"},attrs:{pressed:t.options.onlyCorrect,size:"sm",variant:t.btnVariant(t.options.onlyCorrect)},on:{"update:pressed":function(s){t.$set(t.options,"onlyCorrect",s)}}},[t._v("\n            "+t._s(t.options.onlyCorrect)+"\n          ")])],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Show only samples that are classified correctly.\n        ")])],1)],1):t._e(),t._v(" "),"reg"===t.options.task?e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Max Loss")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-form-input",{attrs:{id:"maxLoss",type:"number",step:"0.01",size:"sm",placeholder:"Enter your name"},model:{value:t.options.maxLoss,callback:function(s){t.$set(t.options,"maxLoss",s)},expression:"options.maxLoss"}})],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Filter out samples by max loss (0 = show all).\n        ")])],1)],1):t._e(),t._v(" "),e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Max Length")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-form-input",{attrs:{id:"maxLength",type:"number",size:"sm",placeholder:"Enter your name"},model:{value:t.options.maxLength,callback:function(s){t.$set(t.options,"maxLength",s)},expression:"options.maxLength"}})],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Filter out samples by max length (0 = show all).\n        ")])],1)],1),t._v(" "),t.labels?e("div",{staticClass:"col-sm-12 setting"},[e("b-form-row",[e("label",{staticClass:"col-sm-8"},[t._v("Filter Label")]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("b-form-select",{attrs:{options:t.labelOptions,size:"sm"},model:{value:t.options.filteredLabel,callback:function(s){t.$set(t.options,"filteredLabel",s)},expression:"options.filteredLabel"}})],1)]),t._v(" "),e("b-form-row",[e("b-form-text",{staticClass:"col-sm-12"},[t._v("\n          Filter out samples by label.\n        ")])],1)],1):t._e()])])},staticRenderFns:[]};var u=e("VU/8")(v,m,!1,function(t){e("SmlE")},"data-v-05af1e3f",null).exports,f=e("gBtx"),h=e.n(f),b={props:["sample","options"],name:"prediction-regression",methods:{},computed:{difference:function(){return Math.abs(this.sample.label-this.sample.prediction)},errorColor:function(){var t=h()(255-255*this.difference,10);return{background:"rgb("+h()(255*this.difference,10)+", "+t+", 0)"}}}},g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"prediction container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("span",[t._v("Label: "+t._s(t.sample.label.toFixed(3)))]),t._v(" "),e("br"),t._v(" "),e("span",[t._v("Prediction: "+t._s(t.sample.prediction.toFixed(3)))])]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("span",[t._v("Error ("+t._s(t.difference.toFixed(3))+")")]),t._v(" "),e("b-progress",{staticClass:"mb-3",attrs:{value:t.difference,min:0,max:1,variant:"danger"}})],1)])])},staticRenderFns:[]};var C=e("VU/8")(b,g,!1,function(t){e("IIWA")},"data-v-32f91b25",null).exports,w=e("mvHQ"),x=e.n(w),y={props:["sample","labels","options","index"],mixins:["ml"],name:"prediction-classification",data:function(){return{showDetails:!1}},methods:{sortWithIndeces:function(t){for(var s=0;s<t.length;s++)t[s]=[t[s],s];t.sort(function(t,s){return t[0]<s[0]?-1:1}),t.sortIndices=[];for(var e=0;e<t.length;e++)t.sortIndices.push(t[e][1]),t[e]=t[e][0];return t},emojify:function(t){return twemoji.parse(t)}},computed:{topIndices:function(){var t=JSON.parse(x()(this.normPredictions));return this.sortWithIndeces(t).sortIndices.reverse()},normPredictions:function(){return this.softmax(this.sample.posterior)}}},S={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"prediction container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticStyle:{"padding-top":"10px"},attrs:{id:"clf-"+t.index}},[e("span",{staticClass:"font-weight-bold",staticStyle:{"padding-left":"7px"}},[t._v("Label: ")]),t._v(" "),t.labels?e("span",{domProps:{innerHTML:t._s(t.emojify(t.labels[t.sample.label].name))}}):e("span",[t._v(t._s(t.sample.label))]),t._v(" "),e("span",{staticStyle:{"padding-right":"20px"}}),t._v(" "),t.sample.posterior.length>10?e("div",{staticStyle:{display:"inline-block"}},[e("span",{staticClass:"font-weight-bold"},[t._v("Top 5: ")]),t._v(" "),e("ul",{staticClass:"list-inline",staticStyle:{display:"inline"}},t._l(5,function(s){return e("li",{staticClass:"list-inline-item"},[e("span",{domProps:{innerHTML:t._s(t.emojify(t.labels[t.topIndices[s-1]].name))}})])}))]):t._e()]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("table",{staticClass:"table table-bordered table-hover table-sm"},[e("tbody",[e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v("Label")]),t._v(" "),e("td",{staticClass:"font-weight-bold"},[t._v("\n            "+t._s(t.sample.label)+"\n            ("),t.labels?e("span",{domProps:{innerHTML:t._s(t.emojify(t.labels[t.sample.label].name))}}):t._e(),t._v(")\n          ")]),t._v(" "),e("td",{staticStyle:{"text-align":"center","vertical-align":"middle"},attrs:{rowspan:t.sample.posterior.length>10?3:2}},[t.sample.label===t.sample.prediction?e("i",{staticClass:"fa fa-smile-o text-success prediction-icon"}):e("i",{staticClass:"fa fa-frown-o text-danger prediction-icon"})])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v("Prediction")]),t._v(" "),e("td",{staticClass:"font-weight-bold"},[t._v("\n            "+t._s(t.sample.prediction)+"\n            ("),t.labels?e("span",{domProps:{innerHTML:t._s(t.emojify(t.labels[t.sample.prediction].name))}}):t._e(),t._v(")\n          ")])]),t._v(" "),t.sample.posterior.length>10?e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v("Top 5")]),t._v(" "),e("td",{staticClass:"font-weight-bold"},[e("ul",{staticClass:"list-inline",staticStyle:{display:"inline"}},t._l(5,function(s){return e("li",{staticClass:"list-inline-item"},[e("span",{domProps:{innerHTML:t._s(t.emojify(t.labels[t.topIndices[s-1]].name))}})])}))])]):t._e()])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"col-sm-12"},[e("p",[e("b-btn",{attrs:{variant:"outline-secondary"},on:{click:function(s){t.showDetails=!t.showDetails}}},[t.showDetails?e("span",[t._v("Hide details "),e("i",{staticClass:"fa fa-minus"})]):e("span",[t._v("Show details "),e("i",{staticClass:"fa fa-plus"})])])],1),t._v(" "),t.showDetails?e("table",{staticClass:"table table-bordered table-hover table-sm"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5em"},attrs:{scope:"col"}},[t._v("Label")]),t._v(" "),t.labels?e("th",{staticStyle:{"min-width":"5em"},attrs:{scope:"col"}},[t._v("Description")]):t._e(),t._v(" "),e("th",{staticClass:"text-right",staticStyle:{width:"7em"},attrs:{scope:"col"}},[t._v("Posteriors")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Distributions")])])]),t._v(" "),e("tbody",t._l(t.sample.posterior,function(s,i){return e("tr",[t.labels?e("td",{staticClass:"fit"},[t._v(t._s(t.labels[i].name))]):e("td",{staticClass:"fit"},[t._v(t._s(i))]),t._v(" "),t.labels?e("td",{staticClass:"fit"},[t._v(t._s(t.labels[i].desc))]):t._e(),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t.normPredictions[i].toFixed(5)))]),t._v(" "),e("td",[e("i",{staticClass:"threshold"}),t._v(" "),e("b-progress",{attrs:{value:t.normPredictions[i],min:0,max:1,variant:"default",precision:3}})],1)])}))]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("br")])}]};var L=e("VU/8")(y,S,!1,function(t){e("Hv5A")},"data-v-e3a5495c",null).exports,k={props:["sample","labels","options"],name:"prediction-classification",data:function(){return{showDetails:!1}},created:function(){console.log(_.isEmpty()?"Lodash is available here!":"Uh oh..")},methods:{sigmoid:function(t){return 1/(1+Math.pow(Math.E,-t))},normalized:function(t){var s=this;return t.map(function(t){return s.sigmoid(t)})}},computed:{isEqual:function(){return _.isEqual}}},P={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"prediction container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("table",{staticClass:"table table-bordered table-hover table-sm"},[t.labels?e("thead",[e("th"),t._v(" "),t._l(t.labels,function(s,i){return e("th",{staticClass:"text-center"},[t._v(t._s(s.name))])}),t._v(" "),e("th")],2):t._e(),t._v(" "),e("tbody",[e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v("Label")]),t._v(" "),t._l(t.sample.label,function(s,i){return e("td",{class:{"table-danger":t.sample.label[i]!==t.sample.prediction[i]},attrs:{align:"center"}},[e("span",{class:{"font-weight-bold":1===s}},[t._v(t._s(s))])])}),t._v(" "),e("td",{staticStyle:{"text-align":"center","vertical-align":"middle"},attrs:{rowspan:"2"}},[t.isEqual(t.sample.label,t.sample.prediction)?e("i",{staticClass:"fa fa-smile-o text-success prediction-icon"}):e("i",{staticClass:"fa fa-frown-o text-danger prediction-icon"})])],2),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v("Prediction")]),t._v(" "),t._l(t.sample.prediction,function(s,i){return e("td",{class:{"table-danger":t.sample.label[i]!==t.sample.prediction[i]},attrs:{align:"center"}},[e("span",{class:{"font-weight-bold":1===s}},[t._v(t._s(s))])])})],2)])])]),t._v(" "),e("div",{staticClass:"col-sm-12"},[e("p",[e("b-btn",{attrs:{variant:"outline-secondary"},on:{click:function(s){t.showDetails=!t.showDetails}}},[t.showDetails?e("span",[t._v("Hide details "),e("i",{staticClass:"fa fa-minus"})]):e("span",[t._v("Show details "),e("i",{staticClass:"fa fa-plus"})])])],1),t._v(" "),t.showDetails?e("table",{staticClass:"table table-bordered table-hover table-sm"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5em"},attrs:{scope:"col"}},[t._v("Label")]),t._v(" "),t.labels?e("th",{staticStyle:{"min-width":"5em"},attrs:{scope:"col"}},[t._v("Description")]):t._e(),t._v(" "),e("th",{staticClass:"text-right",staticStyle:{width:"7em"},attrs:{scope:"col"}},[t._v("Posteriors")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Distributions")])])]),t._v(" "),e("tbody",t._l(t.normalized(t.sample.posterior),function(s,i){return e("tr",[t.labels?e("td",{staticClass:"fit"},[t._v(t._s(t.labels[i].name))]):e("td",{staticClass:"fit"},[t._v(t._s(i))]),t._v(" "),t.labels?e("td",{staticClass:"fit"},[t._v(t._s(t.labels[i].desc))]):t._e(),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(s.toFixed(5)))]),t._v(" "),e("td",[e("i",{staticClass:"threshold"}),t._v(" "),e("b-progress",{attrs:{value:s,min:0,max:1,variant:"default",precision:3}})],1)])}))]):t._e()])])])},staticRenderFns:[]};var F=e("VU/8")(k,P,!1,function(t){e("+VHY")},"data-v-55bcd958",null).exports,A=e("e6fC"),E=(e("bEHp"),{methods:{softmax:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{return t.map(function(e,i){return Math.exp(e/s)/t.map(function(t){return Math.exp(t/s)}).reduce(function(t,s){return t+s})})}catch(s){return t}},mean:function(t){return t.reduce(function(t,s){return t+s},0)/t.length},std:function(t){var s=this.mean(t),e=t.map(function(t){var e=t-s;return e*e}),i=this.mean(e);return Math.sqrt(i)}}});e("9M+g"),e("tdH0"),e("5W1q"),e("ly2Q");window.domtoimage=e("sTcZ"),i.a.use(A.a),i.a.mixin(E),i.a.component("app-sentence",p),i.a.component("app-options",u),i.a.component("app-prediction-classification",L),i.a.component("app-prediction-multi-classification",F),i.a.component("app-prediction-regression",C),new i.a({el:"#app",render:function(t){return t(r)}})},SmlE:function(t,s){},kf0M:function(t,s){},ly2Q:function(t,s){},pEc0:function(t,s){},tdH0:function(t,s){},zj2Q:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.3ecd80b49c1e4d4ff63b.js.map